---
layout: post
title:  'c study'
date:   '2015-10-30 22:21:20'
categories: c
---
# 2015-10-30
## 嗨c第四章——多个源文件
1. 简明数据类型
  - char——字符，以字符编码存，那是一个数字
  - int——整数，至少有16位
  - short——只有int一半
  - long——int两倍大，至少应该有32位
  - float——保存浮点数的基本数据类型
  - double——比float多占一倍空间
2. 如果编译器发现你调用了一个它没见过的函数，就会假设这个函数返回int
3. 所以如果想在定义函数前就调用它，就可能会出现问题，因为你定义的函数不一定是int，如果不是就不能编译，如果是就会有警告
4. 函数声明在定义函数前就告诉编译器函数张什么样子float function（）；
5. 如果在源代码顶端声明了函数，编译器就知道函数返回什么类型
6. 函数声明通常放在头文件中#include “function.h“,在与这个程序相同的本地目录下自定义保存了一个function.h文件，里面放我的声明
7. 用#include让编译器从头文件中读取内容
8. 编译器会把包含进来的代码看成源文件的一部分
9. 有时候需要多个文件中有相同的一段代码，为了共享代码，可以把代码放到一个单独的c文件中
10. 需要把这个代码中的函数声明放到另一个单独的.h头文件中
11. 在所有需要使用这个共享代码的c文件中包含这个头文件
12. 在编译时的命令中列出所有的c文件：gcc xxx.c share.c -o xxx && ./xxx
13. 编译大量文件非常耗时间，因为要从头的每个文件编译并连接到一起
14. 可以把各个源文件都gcc -c a.c 如a文件一样，把目标代码保存到文件a.o中，再用目标文件编译程序，加快编译速度
15. gcc不仅能从源文件gcc xxx.c -o xxx编译程序，还能从目标文件编译程序gcc xxx.o -o xxx
16. 如果一个项目有多个源程序，每次改变其中一个源程序后，为了能自动更新他的目标文件，并生成最后的编译文件，可以用make工具来自动化代码的构建过程
17. make清楚文件之间的以来关系，可以只编译那些修改过的文件，需要在当前目录下根据make规则写一个makefile文本文件如下，然后输入命令make C，meke就工作
  - a.o: a.c a.h
  - [tab]gcc -c a.c
  - b.o: b.c b.h
  - [tab]gcc -c b.c
  - C:a.o b.o
  - [tab]gcc a.o b.o -o C
18. 处理makefile格式时要小心，要用tab来缩进
19. 函数的声明与定义分离
20. 用#include<>包含标准库头文件，#include""包含本地头文件
